--- geninitrd-12757/geninitrd.orig	2020-03-21 03:33:05.923455652 +0100
+++ geninitrd-12757/geninitrd	2020-03-21 04:48:42.054252108 +0100
@@ -1613,6 +1613,10 @@
 		if [ "${arg##init=}" != "${arg}" ]; then
 			INIT=${arg##init=}
 		fi
+		# if resume param starts with /dev/ then trigger swsups with it
+		if [ "${arg##resume=/dev/}" != "${arg}" ]; then
+			RESUME=${arg##resume=}
+		fi
 	done

 	# handling of invalid, rootfsflags, option
@@ -1708,6 +1712,10 @@
 initrd_gen_tuxonice
 initrd_gen_suspend

+add_linuxrc <<-'EOF'
+[ -n "$RESUME" ] && echo "$RESUME" > /sys/power/resume
+EOF
+
 # clean up env
 add_linuxrc <<-'EOF'
 if [ ! "$DEBUGINITRD" ]; then
